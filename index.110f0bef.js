function n(n){return n&&n.__esModule?n.default:n}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},i={},t=e.parcelRequire634e;null==t&&((t=function(n){if(n in r)return r[n].exports;if(n in i){var e=i[n];delete i[n];var t={id:n,exports:{}};return r[n]=t,e.call(t.exports,t,t.exports),t.exports}var a=new Error("Cannot find module '"+n+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(n,e){i[n]=e},e.parcelRequire634e=t),t("cyIMT");var a=t("cyIMT"),o=t("krGWQ");a=t("cyIMT"),o=t("krGWQ");async function l(n,e){o.refs.popularFilms.innerHTML="";(await(0,a.fetchByName)(n,e)).movies.forEach((n=>{n.genres.length>=3?o.refs.popularFilms.insertAdjacentHTML("beforeend",`<div class="popular-film__card" data="${n.id}">\n          <img\n            class="popular-film__cover"\n            src="${n.cover}"\n            alt="${n.name}"\n            loading="lazy"\n          />\n          <div class="info">\n            <p class="info__name">${n.name}</p>\n            <p class="info__other">${n.genres[0]}, ${n.genres[1]}, Other | ${n.year} <span class="info__rating">${n.rating}</span></p>\n          </div>\n        </div>`):o.refs.popularFilms.insertAdjacentHTML("beforeend",`<div class="popular-film__card" data="${n.id}">\n      <img\n        class="popular-film__cover"\n        src="${n.cover}"\n        alt="${n.name}"\n        loading="lazy"\n      />\n      <div class="info">\n        <p class="info__name">${n.name}</p>\n        <p class="info__other">${n.genres.join(", ")} | ${n.year}</p>\n      </div>\n    </div>`)}))}var s,c=/^\s+|\s+$/g,f=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,d=/^0o[0-7]+$/i,p=parseInt,v="object"==typeof e&&e&&e.Object===Object&&e,m="object"==typeof self&&self&&self.Object===Object&&self,_=v||m||Function("return this")(),g=Object.prototype.toString,y=Math.max,$=Math.min,h=function(){return _.Date.now()};function b(n,e,r){var i,t,a,o,l,s,c=0,f=!1,u=!1,d=!0;if("function"!=typeof n)throw new TypeError("Expected a function");function p(e){var r=i,a=t;return i=t=void 0,c=e,o=n.apply(a,r)}function v(n){return c=n,l=setTimeout(_,e),f?p(n):o}function m(n){var r=n-s;return void 0===s||r>=e||r<0||u&&n-c>=a}function _(){var n=h();if(m(n))return g(n);l=setTimeout(_,function(n){var r=e-(n-s);return u?$(r,a-(n-c)):r}(n))}function g(n){return l=void 0,d&&i?p(n):(i=t=void 0,o)}function b(){var n=h(),r=m(n);if(i=arguments,t=this,s=n,r){if(void 0===l)return v(s);if(u)return l=setTimeout(_,e),p(s)}return void 0===l&&(l=setTimeout(_,e)),o}return e=w(e)||0,T(r)&&(f=!!r.leading,a=(u="maxWait"in r)?y(w(r.maxWait)||0,e):a,d="trailing"in r?!!r.trailing:d),b.cancel=function(){void 0!==l&&clearTimeout(l),c=0,i=s=t=l=void 0},b.flush=function(){return void 0===l?o:g(h())},b}function T(n){var e=typeof n;return!!n&&("object"==e||"function"==e)}function w(n){if("number"==typeof n)return n;if(function(n){return"symbol"==typeof n||function(n){return!!n&&"object"==typeof n}(n)&&"[object Symbol]"==g.call(n)}(n))return NaN;if(T(n)){var e="function"==typeof n.valueOf?n.valueOf():n;n=T(e)?e+"":e}if("string"!=typeof n)return 0===n?n:+n;n=n.replace(c,"");var r=u.test(n);return r||d.test(n)?p(n.slice(2),r?2:8):f.test(n)?NaN:+n}s=function(n,e,r){var i=!0,t=!0;if("function"!=typeof n)throw new TypeError("Expected a function");return T(r)&&(i="leading"in r?!!r.leading:i,t="trailing"in r?!!r.trailing:t),b(n,e,{leading:i,maxWait:e,trailing:t})};var j;o=t("krGWQ");window.addEventListener("scroll",n(s)((j=o.refs.upBtn,function(n){pageYOffset<document.documentElement.clientHeight?j.classList.add("visually-hidden"):j.classList.remove("visually-hidden")}),250)),o.refs.upBtn.addEventListener("click",(function(n){window.scrollTo({top:0,behavior:"smooth"})}));const M=document.querySelector(".header__form"),O=document.querySelector(".header__input");M.addEventListener("submit",(async function(n){if(n.preventDefault(),""===O.value.trim())return;l(O.value.trim(),1)})),async function(n){o.refs.popularFilms.innerHTML="",(await(0,a.fetchPopular)(n)).movies.forEach((n=>{n.genres.length>=3?o.refs.popularFilms.insertAdjacentHTML("beforeend",`<div class="popular-film__card" data="${n.id}">\n          <img\n            class="popular-film__cover"\n            src="${n.cover}"\n            alt="${n.name}"\n            loading="lazy"\n          />\n          <div class="info">\n            <p class="info__name">${n.name}</p>\n            <p class="info__other">${n.genres[0]}, ${n.genres[1]}, Other | ${n.year}</p>\n          </div>\n        </div>`):o.refs.popularFilms.insertAdjacentHTML("beforeend",`<div class="popular-film__card" data="${n.id}">\n      <img\n        class="popular-film__cover"\n        src="${n.cover}"\n        alt="${n.name}"\n        loading="lazy"\n      />\n      <div class="info">\n        <p class="info__name">${n.name}</p>\n        <p class="info__other">${n.genres.join(", ")} | ${n.year}</p>\n      </div>\n    </div>`)}))}(1);
//# sourceMappingURL=index.110f0bef.js.map
