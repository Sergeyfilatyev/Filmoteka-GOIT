!function(){function n(n){return n&&n.__esModule?n.default:n}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},i={},r=e.parcelRequire634e;null==r&&((r=function(n){if(n in t)return t[n].exports;if(n in i){var e=i[n];delete i[n];var r={id:n,exports:{}};return t[n]=r,e.call(r.exports,r,r.exports),r.exports}var a=new Error("Cannot find module '"+n+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(n,e){i[n]=e},e.parcelRequire634e=r),r("5g02X");var a=r("5g02X"),o=r("4Nugj");async function s(n){o.refs.popularFilms.innerHTML="";(await(0,a.fetchPopular)(n)).movies.forEach((n=>{n.genres.length>=3?o.refs.popularFilms.insertAdjacentHTML("beforeend",`<a class="popular-film__card" href="" >\n          <img data-id="${n.id}"\n            class="popular-film__cover"\n            src="${n.cover}"\n            alt="${n.name}"\n            loading="lazy"\n          />\n          <div class="info">\n            <p class="info__name">${n.name.length>=40?n.name.substring(0,40)+"...":n.name}</p>\n            <p class="info__other">${n.genres[0]}, ${n.genres[1]}, Other | ${n.year}</p>\n          </div>\n        </a>`):o.refs.popularFilms.insertAdjacentHTML("beforeend",`<a class="popular-film__card" href="">\n      <img data-id="${n.id}"\n        class="popular-film__cover"\n        src="${n.cover}"\n        alt="${n.name}"\n        loading="lazy"\n      />\n      <div class="info">\n        <p class="info__name">${n.name.length>=40?n.name.substring(0,40)+"...":n.name}</p>\n        <p class="info__other">${n.genres.join(", ")} | ${n.year}</p>\n      </div\n    </a>`)}))}s(1);a=r("5g02X"),o=r("4Nugj");async function l(n,e){const t=await(0,a.fetchByName)(n,e),i=document.querySelector(".header__form"),r=document.querySelector(".header__error");if(0===t.movies.length)return r.textContent="There is no movie for your query",void i.reset();o.refs.popularFilms.innerHTML="",t.movies.forEach((n=>{n.genres.length>=3?o.refs.popularFilms.insertAdjacentHTML("beforeend",`<a class="popular-film__card" href="">\n          <img data-id="${n.id}"\n            class="popular-film__cover"\n            src="${n.cover}"\n            alt="${n.name}"\n            loading="lazy"\n          />\n          <div class="info">\n            <p class="info__name">${n.name.length>=37?n.name.substring(0,37)+"...":n.name}</p>\n            <p class="info__other">${n.genres[0]}, ${n.genres[1]}, Other | ${n.year} <span class="info__rating">${n.rating}</span></p>\n          </div>\n        </a>`):o.refs.popularFilms.insertAdjacentHTML("beforeend",`<a class="popular-film__card" href="" >\n      <img data-id="${n.id}"\n        class="popular-film__cover"\n        src="${n.cover}"\n        alt="${n.name}"\n        loading="lazy"\n      />\n      <div class="info">\n        <p class="info__name">${n.name.length>=37?n.name.substring(0,37)+"...":n.name}</p>\n        <p class="info__other">${n.genres.join(", ")} | ${n.year}<span class="info__rating">${n.rating}</span></p>\n      </div>\n    </a>`)}))}o=r("4Nugj");const c=document.querySelector(".header__error");c.textContent="",o.refs.searchForm.addEventListener("submit",(async function(n){if(n.preventDefault(),""===o.refs.searchInput.value.trim())return c.textContent="Please, enter the name of the movie",void o.refs.searchForm.reset();l(o.refs.searchInput.value.trim(),1)})),r("4Nugj");var d,u="Expected a function",f=/^\s+|\s+$/g,p=/^[-+]0x[0-9a-f]+$/i,m=/^0b[01]+$/i,v=/^0o[0-7]+$/i,g=parseInt,h="object"==typeof e&&e&&e.Object===Object&&e,y="object"==typeof self&&self&&self.Object===Object&&self,$=h||y||Function("return this")(),b=Object.prototype.toString,_=Math.max,T=Math.min,j=function(){return $.Date.now()};function L(n,e,t){var i,r,a,o,s,l,c=0,d=!1,f=!1,p=!0;if("function"!=typeof n)throw new TypeError(u);function m(e){var t=i,a=r;return i=r=void 0,c=e,o=n.apply(a,t)}function v(n){return c=n,s=setTimeout(h,e),d?m(n):o}function g(n){var t=n-l;return void 0===l||t>=e||t<0||f&&n-c>=a}function h(){var n=j();if(g(n))return y(n);s=setTimeout(h,function(n){var t=e-(n-l);return f?T(t,a-(n-c)):t}(n))}function y(n){return s=void 0,p&&i?m(n):(i=r=void 0,o)}function $(){var n=j(),t=g(n);if(i=arguments,r=this,l=n,t){if(void 0===s)return v(l);if(f)return s=setTimeout(h,e),m(l)}return void 0===s&&(s=setTimeout(h,e)),o}return e=E(e)||0,w(t)&&(d=!!t.leading,a=(f="maxWait"in t)?_(E(t.maxWait)||0,e):a,p="trailing"in t?!!t.trailing:p),$.cancel=function(){void 0!==s&&clearTimeout(s),c=0,i=l=r=s=void 0},$.flush=function(){return void 0===s?o:y(j())},$}function w(n){var e=typeof n;return!!n&&("object"==e||"function"==e)}function E(n){if("number"==typeof n)return n;if(function(n){return"symbol"==typeof n||function(n){return!!n&&"object"==typeof n}(n)&&"[object Symbol]"==b.call(n)}(n))return NaN;if(w(n)){var e="function"==typeof n.valueOf?n.valueOf():n;n=w(e)?e+"":e}if("string"!=typeof n)return 0===n?n:+n;n=n.replace(f,"");var t=m.test(n);return t||v.test(n)?g(n.slice(2),t?2:8):p.test(n)?NaN:+n}d=function(n,e,t){var i=!0,r=!0;if("function"!=typeof n)throw new TypeError(u);return w(t)&&(i="leading"in t?!!t.leading:i,r="trailing"in t?!!t.trailing:r),L(n,e,{leading:i,maxWait:e,trailing:r})};var N;o=r("4Nugj");window.addEventListener("scroll",n(d)((N=o.refs.upBtn,function(){pageYOffset<document.documentElement.clientHeight||!1===o.refs.modalFooter.classList.contains("visibility-hidden")?N.classList.add("visually-hidden"):N.classList.remove("visually-hidden")}),250)),o.refs.upBtn.addEventListener("click",(function(n){window.scrollTo({top:0,behavior:"smooth"})})),r("5YNLl");a=r("5g02X");(o=r("4Nugj")).refs.popularFilms.addEventListener("click",(async function(n){if(n.preventDefault(),"IMG"!==n.target.nodeName)return;console.log(n.target.dataset.id);const e=await(0,a.fetchById)(n.target.dataset.id);o.refs.modal.innerHTML="",o.refs.modal.insertAdjacentHTML("beforeend",` <div id="${e.id}" class="movie-card">\n        <img src="${e.cover}" alt="${e.name}" loading="lazy" width='100' height='100'>\n        <div class="movie-info">\n            <h2>${e.name}</h2>\n            <p>Vote/Votes ${e.votes}</p>\n             <p>Popularity ${e.popularity}</p>\n             <p>Original Title ${e.originalTitle}</p>\n            <p>Genre ${e.genres.join(", ")}</p>\n            <p>ABOUT ${e.about}</p>\n         </div>\n         <button type="button" class="modal-btn watched">ADD TO WATCHED</button>\n    <button type="button" class="modal-btn queue">ADD TO QUEUE</button>\n      </div>`),o.refs.backdrop.classList.remove("is-hidden")})),o.refs.modalCloseBtn.addEventListener("click",(function(){o.refs.backdrop.classList.add("is-hidden")})),r("5g02X");o=r("4Nugj");const O=document.querySelector("ul");!function(n,e){let t,i="",r=e-1,a=e+1;e>1&&(i+=`<li class="btn prev" data-id="${r}"\n\n      \n    >&#60 Prev</li>`),e>2&&(i+='<li class="numb" data-id = "1" >\n        1\n      </li>',e>3&&(i+='<li class="dots">\n          ...\n        </li>')),e==n?r-=2:e==n-1&&(r-=1),1==e?a+=2:2==e&&(a+=1);for(let o=r;o<=a;o++)o>n||(0==o&&(o+=1),t=e==o?"active":"",i+=`<li\n        class="numb ${t}" data-id="${o}"\n  \n      >\n        ${o}\n      </li>`);e<n-1&&(e<n-2&&(i+='<li class="dots">\n          ...\n        </li>'),i+=`<li class="numb" data-id="${n}" >\n        ${n}\n      </li>`),e<n&&(i+=`<li class="btn next" data-id = "${a}" >Next &#62\n</li>`),O.innerHTML=i}(20,1),console.log("hello"),o.refs.pagination.addEventListener("click",(async function(n){console.log(n.target.dataset.id);return await s(n.target.dataset.id)}))}();
//# sourceMappingURL=index.8744915d.js.map
