!function(){function n(n){return n&&n.__esModule?n.default:n}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},i={},r={},t=e.parcelRequire634e;null==t&&((t=function(n){if(n in i)return i[n].exports;if(n in r){var e=r[n];delete r[n];var t={id:n,exports:{}};return i[n]=t,e.call(t.exports,t,t.exports),t.exports}var a=new Error("Cannot find module '"+n+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(n,e){r[n]=e},e.parcelRequire634e=t),t("5g02X");var a=t("5g02X"),o=t("4Nugj");a=t("5g02X"),o=t("4Nugj");async function s(n,e){o.refs.popularFilms.innerHTML="";(await(0,a.fetchByName)(n,e)).movies.forEach((n=>{n.genres.length>=3?o.refs.popularFilms.insertAdjacentHTML("beforeend",`<div class="popular-film__card" data="${n.id}">\n          <img\n            class="popular-film__cover"\n            src="${n.cover}"\n            alt="${n.name}"\n            loading="lazy"\n          />\n          <div class="info">\n            <p class="info__name">${n.name}</p>\n            <p class="info__other">${n.genres[0]}, ${n.genres[1]}, Other | ${n.year} <span class="info__rating">${n.rating}</span></p>\n          </div>\n        </div>`):o.refs.popularFilms.insertAdjacentHTML("beforeend",`<div class="popular-film__card" data="${n.id}">\n      <img\n        class="popular-film__cover"\n        src="${n.cover}"\n        alt="${n.name}"\n        loading="lazy"\n      />\n      <div class="info">\n        <p class="info__name">${n.name}</p>\n        <p class="info__other">${n.genres.join(", ")} | ${n.year}</p>\n      </div>\n    </div>`)}))}o=t("4Nugj");var l,f="Expected a function",c=/^\s+|\s+$/g,u=/^[-+]0x[0-9a-f]+$/i,d=/^0b[01]+$/i,p=/^0o[0-7]+$/i,v=parseInt,m="object"==typeof e&&e&&e.Object===Object&&e,g="object"==typeof self&&self&&self.Object===Object&&self,_=m||g||Function("return this")(),y=Object.prototype.toString,$=Math.max,h=Math.min,b=function(){return _.Date.now()};function j(n,e,i){var r,t,a,o,s,l,c=0,u=!1,d=!1,p=!0;if("function"!=typeof n)throw new TypeError(f);function v(e){var i=r,a=t;return r=t=void 0,c=e,o=n.apply(a,i)}function m(n){return c=n,s=setTimeout(_,e),u?v(n):o}function g(n){var i=n-l;return void 0===l||i>=e||i<0||d&&n-c>=a}function _(){var n=b();if(g(n))return y(n);s=setTimeout(_,function(n){var i=e-(n-l);return d?h(i,a-(n-c)):i}(n))}function y(n){return s=void 0,p&&r?v(n):(r=t=void 0,o)}function j(){var n=b(),i=g(n);if(r=arguments,t=this,l=n,i){if(void 0===s)return m(l);if(d)return s=setTimeout(_,e),v(l)}return void 0===s&&(s=setTimeout(_,e)),o}return e=T(e)||0,w(i)&&(u=!!i.leading,a=(d="maxWait"in i)?$(T(i.maxWait)||0,e):a,p="trailing"in i?!!i.trailing:p),j.cancel=function(){void 0!==s&&clearTimeout(s),c=0,r=l=t=s=void 0},j.flush=function(){return void 0===s?o:y(b())},j}function w(n){var e=typeof n;return!!n&&("object"==e||"function"==e)}function T(n){if("number"==typeof n)return n;if(function(n){return"symbol"==typeof n||function(n){return!!n&&"object"==typeof n}(n)&&"[object Symbol]"==y.call(n)}(n))return NaN;if(w(n)){var e="function"==typeof n.valueOf?n.valueOf():n;n=w(e)?e+"":e}if("string"!=typeof n)return 0===n?n:+n;n=n.replace(c,"");var i=d.test(n);return i||p.test(n)?v(n.slice(2),i?2:8):u.test(n)?NaN:+n}l=function(n,e,i){var r=!0,t=!0;if("function"!=typeof n)throw new TypeError(f);return w(i)&&(r="leading"in i?!!i.leading:r,t="trailing"in i?!!i.trailing:t),j(n,e,{leading:r,maxWait:e,trailing:t})};var O;o=t("4Nugj");window.addEventListener("scroll",n(l)((O=o.refs.upBtn,function(n){pageYOffset<document.documentElement.clientHeight?O.classList.add("visually-hidden"):O.classList.remove("visually-hidden")}),250)),o.refs.upBtn.addEventListener("click",(function(n){window.scrollTo({top:0,behavior:"smooth"})})),o.refs.searchForm.addEventListener("submit",(async function(n){if(n.preventDefault(),""===o.refs.searchInput.value.trim())return;s(o.refs.searchInput.value.trim(),1)})),async function(n){o.refs.popularFilms.innerHTML="",(await(0,a.fetchPopular)(n)).movies.forEach((n=>{n.genres.length>=3?o.refs.popularFilms.insertAdjacentHTML("beforeend",`<div class="popular-film__card" data="${n.id}">\n          <img\n            class="popular-film__cover"\n            src="${n.cover}"\n            alt="${n.name}"\n            loading="lazy"\n          />\n          <div class="info">\n            <p class="info__name">${n.name}</p>\n            <p class="info__other">${n.genres[0]}, ${n.genres[1]}, Other | ${n.year}</p>\n          </div>\n        </div>`):o.refs.popularFilms.insertAdjacentHTML("beforeend",`<div class="popular-film__card" data="${n.id}">\n      <img\n        class="popular-film__cover"\n        src="${n.cover}"\n        alt="${n.name}"\n        loading="lazy"\n      />\n      <div class="info">\n        <p class="info__name">${n.name}</p>\n        <p class="info__other">${n.genres.join(", ")} | ${n.year}</p>\n      </div>\n    </div>`)}))}(1)}();
//# sourceMappingURL=index.40aea3ab.js.map
