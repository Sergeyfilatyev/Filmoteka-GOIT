!function(){function n(n){return n&&n.__esModule?n.default:n}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},i={},r={},t=e.parcelRequire634e;null==t&&((t=function(n){if(n in i)return i[n].exports;if(n in r){var e=r[n];delete r[n];var t={id:n,exports:{}};return i[n]=t,e.call(t.exports,t,t.exports),t.exports}var a=new Error("Cannot find module '"+n+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(n,e){r[n]=e},e.parcelRequire634e=t),t("5g02X");var a=t("5g02X"),o=t("4Nugj");a=t("5g02X"),o=t("4Nugj");async function l(n,e){o.refs.popularFilms.innerHTML="";(await(0,a.fetchByName)(n,e)).movies.forEach((n=>{n.genres.length>=3?o.refs.popularFilms.insertAdjacentHTML("beforeend",`<div class="popular-film__card" data="${n.id}">\n          <img\n            class="popular-film__cover"\n            src="${n.cover}"\n            alt="${n.name}"\n            loading="lazy"\n          />\n          <div class="info">\n            <p class="info__name">${n.name}</p>\n            <p class="info__other">${n.genres[0]}, ${n.genres[1]}, Other | ${n.year} <span class="info__rating">${n.rating}</span></p>\n          </div>\n        </div>`):o.refs.popularFilms.insertAdjacentHTML("beforeend",`<div class="popular-film__card" data="${n.id}">\n      <img\n        class="popular-film__cover"\n        src="${n.cover}"\n        alt="${n.name}"\n        loading="lazy"\n      />\n      <div class="info">\n        <p class="info__name">${n.name}</p>\n        <p class="info__other">${n.genres.join(", ")} | ${n.year}</p>\n      </div>\n    </div>`)}))}var s,c="Expected a function",f=/^\s+|\s+$/g,u=/^[-+]0x[0-9a-f]+$/i,d=/^0b[01]+$/i,p=/^0o[0-7]+$/i,v=parseInt,m="object"==typeof e&&e&&e.Object===Object&&e,g="object"==typeof self&&self&&self.Object===Object&&self,_=m||g||Function("return this")(),y=Object.prototype.toString,$=Math.max,h=Math.min,b=function(){return _.Date.now()};function j(n,e,i){var r,t,a,o,l,s,f=0,u=!1,d=!1,p=!0;if("function"!=typeof n)throw new TypeError(c);function v(e){var i=r,a=t;return r=t=void 0,f=e,o=n.apply(a,i)}function m(n){return f=n,l=setTimeout(_,e),u?v(n):o}function g(n){var i=n-s;return void 0===s||i>=e||i<0||d&&n-f>=a}function _(){var n=b();if(g(n))return y(n);l=setTimeout(_,function(n){var i=e-(n-s);return d?h(i,a-(n-f)):i}(n))}function y(n){return l=void 0,p&&r?v(n):(r=t=void 0,o)}function j(){var n=b(),i=g(n);if(r=arguments,t=this,s=n,i){if(void 0===l)return m(s);if(d)return l=setTimeout(_,e),v(s)}return void 0===l&&(l=setTimeout(_,e)),o}return e=T(e)||0,w(i)&&(u=!!i.leading,a=(d="maxWait"in i)?$(T(i.maxWait)||0,e):a,p="trailing"in i?!!i.trailing:p),j.cancel=function(){void 0!==l&&clearTimeout(l),f=0,r=s=t=l=void 0},j.flush=function(){return void 0===l?o:y(b())},j}function w(n){var e=typeof n;return!!n&&("object"==e||"function"==e)}function T(n){if("number"==typeof n)return n;if(function(n){return"symbol"==typeof n||function(n){return!!n&&"object"==typeof n}(n)&&"[object Symbol]"==y.call(n)}(n))return NaN;if(w(n)){var e="function"==typeof n.valueOf?n.valueOf():n;n=w(e)?e+"":e}if("string"!=typeof n)return 0===n?n:+n;n=n.replace(f,"");var i=d.test(n);return i||p.test(n)?v(n.slice(2),i?2:8):u.test(n)?NaN:+n}s=function(n,e,i){var r=!0,t=!0;if("function"!=typeof n)throw new TypeError(c);return w(i)&&(r="leading"in i?!!i.leading:r,t="trailing"in i?!!i.trailing:t),j(n,e,{leading:r,maxWait:e,trailing:t})};var O;o=t("4Nugj");window.addEventListener("scroll",n(s)((O=o.refs.upBtn,function(n){pageYOffset<document.documentElement.clientHeight?O.classList.add("visually-hidden"):O.classList.remove("visually-hidden")}),250)),o.refs.upBtn.addEventListener("click",(function(n){window.scrollTo({top:0,behavior:"smooth"})}));const L=document.querySelector(".header__form"),x=document.querySelector(".header__input");L.addEventListener("submit",(async function(n){if(n.preventDefault(),""===x.value.trim())return;l(x.value.trim(),1)})),async function(n){o.refs.popularFilms.innerHTML="",(await(0,a.fetchPopular)(n)).movies.forEach((n=>{n.genres.length>=3?o.refs.popularFilms.insertAdjacentHTML("beforeend",`<div class="popular-film__card" data="${n.id}">\n          <img\n            class="popular-film__cover"\n            src="${n.cover}"\n            alt="${n.name}"\n            loading="lazy"\n          />\n          <div class="info">\n            <p class="info__name">${n.name}</p>\n            <p class="info__other">${n.genres[0]}, ${n.genres[1]}, Other | ${n.year}</p>\n          </div>\n        </div>`):o.refs.popularFilms.insertAdjacentHTML("beforeend",`<div class="popular-film__card" data="${n.id}">\n      <img\n        class="popular-film__cover"\n        src="${n.cover}"\n        alt="${n.name}"\n        loading="lazy"\n      />\n      <div class="info">\n        <p class="info__name">${n.name}</p>\n        <p class="info__other">${n.genres.join(", ")} | ${n.year}</p>\n      </div>\n    </div>`)}))}(1)}();
//# sourceMappingURL=index.aab9bd42.js.map
