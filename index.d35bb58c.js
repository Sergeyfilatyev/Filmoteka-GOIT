function n(n){return n&&n.__esModule?n.default:n}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},i={},r=e.parcelRequire634e;null==r&&((r=function(n){if(n in t)return t[n].exports;if(n in i){var e=i[n];delete i[n];var r={id:n,exports:{}};return t[n]=r,e.call(r.exports,r,r.exports),r.exports}var o=new Error("Cannot find module '"+n+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(n,e){i[n]=e},e.parcelRequire634e=r),r("cyIMT");var o=r("cyIMT");o=r("cyIMT");async function a(n,e){const t=document.querySelector(".popular-films");t.innerHTML="";(await(0,o.fetchByName)(n,e)).movies.forEach((n=>{n.genres.length>=3?t.insertAdjacentHTML("beforeend",`<div class="popular-film__card" data="${n.id}">\n          <img\n            class="popular-film__cover"\n            src="${n.cover}"\n            alt="${n.name}"\n            loading="lazy"\n          />\n          <div class="info">\n            <p class="info__name">${n.name}</p>\n            <p class="info__other">${n.genres[0]}, ${n.genres[1]}, Other | ${n.year} <span class="info__rating">${n.rating}</span></p>\n          </div>\n        </div>`):t.insertAdjacentHTML("beforeend",`<div class="popular-film__card" data="${n.id}">\n      <img\n        class="popular-film__cover"\n        src="${n.cover}"\n        alt="${n.name}"\n        loading="lazy"\n      />\n      <div class="info">\n        <p class="info__name">${n.name}</p>\n        <p class="info__other">${n.genres.join(", ")} | ${n.year}</p>\n      </div>\n    </div>`)}))}var c,l=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,f=/^0b[01]+$/i,u=/^0o[0-7]+$/i,d=parseInt,p="object"==typeof e&&e&&e.Object===Object&&e,v="object"==typeof self&&self&&self.Object===Object&&self,m=p||v||Function("return this")(),y=Object.prototype.toString,_=Math.max,g=Math.min,$=function(){return m.Date.now()};function h(n,e,t){var i,r,o,a,c,l,s=0,f=!1,u=!1,d=!0;if("function"!=typeof n)throw new TypeError("Expected a function");function p(e){var t=i,o=r;return i=r=void 0,s=e,a=n.apply(o,t)}function v(n){return s=n,c=setTimeout(y,e),f?p(n):a}function m(n){var t=n-l;return void 0===l||t>=e||t<0||u&&n-s>=o}function y(){var n=$();if(m(n))return h(n);c=setTimeout(y,function(n){var t=e-(n-l);return u?g(t,o-(n-s)):t}(n))}function h(n){return c=void 0,d&&i?p(n):(i=r=void 0,a)}function w(){var n=$(),t=m(n);if(i=arguments,r=this,l=n,t){if(void 0===c)return v(l);if(u)return c=setTimeout(y,e),p(l)}return void 0===c&&(c=setTimeout(y,e)),a}return e=T(e)||0,b(t)&&(f=!!t.leading,o=(u="maxWait"in t)?_(T(t.maxWait)||0,e):o,d="trailing"in t?!!t.trailing:d),w.cancel=function(){void 0!==c&&clearTimeout(c),s=0,i=l=r=c=void 0},w.flush=function(){return void 0===c?a:h($())},w}function b(n){var e=typeof n;return!!n&&("object"==e||"function"==e)}function T(n){if("number"==typeof n)return n;if(function(n){return"symbol"==typeof n||function(n){return!!n&&"object"==typeof n}(n)&&"[object Symbol]"==y.call(n)}(n))return NaN;if(b(n)){var e="function"==typeof n.valueOf?n.valueOf():n;n=b(e)?e+"":e}if("string"!=typeof n)return 0===n?n:+n;n=n.replace(l,"");var t=f.test(n);return t||u.test(n)?d(n.slice(2),t?2:8):s.test(n)?NaN:+n}c=function(n,e,t){var i=!0,r=!0;if("function"!=typeof n)throw new TypeError("Expected a function");return b(t)&&(i="leading"in t?!!t.leading:i,r="trailing"in t?!!t.trailing:r),h(n,e,{leading:i,maxWait:e,trailing:r})};const w=document.querySelector("[data-up-btn]");var j;window.addEventListener("scroll",n(c)((j=w,function(n){pageYOffset<document.documentElement.clientHeight?j.classList.add("visually-hidden"):j.classList.remove("visually-hidden")}),250)),w.addEventListener("click",(function(n){window.scrollTo({top:0,behavior:"smooth"})}));const M=document.querySelector(".header__form"),O=document.querySelector(".header__input");M.addEventListener("submit",(async function(n){if(n.preventDefault(),""===O.value.trim())return;a(O.value.trim(),1)})),async function(n){const e=document.querySelector(".popular-films");e.innerHTML="",(await(0,o.fetchPopular)(n)).movies.forEach((n=>{n.genres.length>=3?e.insertAdjacentHTML("beforeend",`<div class="popular-film__card" data="${n.id}">\n          <img\n            class="popular-film__cover"\n            src="${n.cover}"\n            alt="${n.name}"\n            loading="lazy"\n          />\n          <div class="info">\n            <p class="info__name">${n.name}</p>\n            <p class="info__other">${n.genres[0]}, ${n.genres[1]}, Other | ${n.year}</p>\n          </div>\n        </div>`):e.insertAdjacentHTML("beforeend",`<div class="popular-film__card" data="${n.id}">\n      <img\n        class="popular-film__cover"\n        src="${n.cover}"\n        alt="${n.name}"\n        loading="lazy"\n      />\n      <div class="info">\n        <p class="info__name">${n.name}</p>\n        <p class="info__other">${n.genres.join(", ")} | ${n.year}</p>\n      </div>\n    </div>`)}))}(1);
//# sourceMappingURL=index.d35bb58c.js.map
